<!DOCTYPE html>
<html>
<head>
    <title>Отчет</title>
</head>
<body>
    <h1>Отчет</h1>
    <h2>Лучший студент</h2>
    {% if best_student %}
        <p>{{ best_student.full_name }}: {{ best_student.avg_grade|floatformat:2 }}</p>
    {% else %}
        <p>Нет данных.</p>
    {% endif %}
    <h2>Худший студент</h2>
    {% if worst_student %}
        <p>{{ worst_student.full_name }}: {{ worst_student.avg_grade|floatformat:2 }}</p>
    {% else %}
        <p>Нет данных.</p>
    {% endif %}
    <h2>Средняя оценка студентов</h2>
    <ul>
        {% for student in student_averages %}
            <li>{{ student.full_name }}: {{ student.avg_grade|floatformat:2 }}</li>
        {% empty %}
            <li>Нет данных.</li>
        {% endfor %}
    </ul>
    <h2>Средняя оценка по предмету</h2>
    <ul>
        {% for subject in subject_averages %}
            <li>{{ subject.name }}: {{ subject.avg_grade|floatformat:2 }}</li>
        {% empty %}
            <li>Нет данных.</li>
        {% endfor %}
    </ul>
    <a href="{% url 'home' %}">Вернуться</a>
</body>
</html>